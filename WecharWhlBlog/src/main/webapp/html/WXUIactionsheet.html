<!DOCTYPE html>
<html>     
<head>        
 <meta charset="UTF-8">        
 <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">         
<title>WeUI</title>         
<link rel="stylesheet" href="/WecharWhlBlog/css/weui.css"/> 
<link rel="stylesheet" href="/WecharWhlBlog/css/wexui.css"/> 
<script src="/WecharWhlBlog/js/jquery-2.1.4.min.js"></script>       
</head>    
<body >
    <div class="container" id="container">
<div class="hd">
    <h1 class="page_title">ActionSheet</h1>
</div>
<div class="bd spacing">
    <a href="javascript:;" class="weui_btn weui_btn_primary" id="showActionSheet">点击上拉ActionSheet</a>
</div>
<!--BEGIN actionSheet-->
<div id="actionSheet_wrap"> 
    <!--  <div class="weui_mask_transition" id="mask"></div>-->
    <div class="weui_mask_transition weui_fade_toggle" id="mask" style="display: block;"></div>
  <!--    <div class="weui_actionsheet" id="weui_actionsheet"> -->
    <div class="weui_actionsheet weui_actionsheet_toggle" id="weui_actionsheet">
        <div class="weui_actionsheet_menu">
            <div class="weui_actionsheet_cell">示例菜单</div>
            <div class="weui_actionsheet_cell">示例菜单</div>
            <div class="weui_actionsheet_cell">示例菜单</div>
            <div class="weui_actionsheet_cell">示例菜单</div>
        </div>
        <div class="weui_actionsheet_action">
            <div class="weui_actionsheet_cell" id="actionsheet_cancel">取消</div>
        </div>
    </div>
</div>
</div>
<!--END actionSheet-->
<script type="text/javascript">
$(function () {
    $('#container').on('click', '#showActionSheet', function () {
        var mask = $('#mask');
        var weuiActionsheet = $('#weui_actionsheet');
        weuiActionsheet.addClass('weui_actionsheet_toggle');
        mask.show()
            .focus()//加focus是为了触发一次页面的重排(reflow or layout thrashing),使mask的transition动画得以正常触发
            .addClass('weui_fade_toggle').one('click', function () {
            hideActionSheet(weuiActionsheet, mask);
        });
        $('#actionsheet_cancel').one('click', function () {
            hideActionSheet(weuiActionsheet, mask);
        });
        mask.unbind('transitionend').unbind('webkitTransitionEnd');

        function hideActionSheet(weuiActionsheet, mask) {
            weuiActionsheet.removeClass('weui_actionsheet_toggle');
            mask.removeClass('weui_fade_toggle');
            mask.on('transitionend', function () {
                mask.hide();
            }).on('webkitTransitionEnd', function () {
                mask.hide();
            })
        }
    });
});
</script>
<script src="/WecharWhlBlog/js/zepto.min.js"></script>
<script src="/WecharWhlBlog/js/router.min.js"></script>
</body>
</html>
<!--END actionSheet-->